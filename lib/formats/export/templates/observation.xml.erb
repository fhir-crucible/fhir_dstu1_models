<%== '<?xml version="1.0" encoding="UTF-8"?>' if is_root %>
<% local_name = name || 'Observation' %>
<<%= (is_lowercase) ? local_name.downcase : local_name %>
<%if model.xmlId%> id="<%= model.xmlId%>"<%end%>
<%== (is_root) ? ' xmlns="http://hl7.org/fhir"' : ''%>>
    <%== render :template => 'element', :locals => {model: model} %>
    <%== render :template => 'resource', :locals => {model: model} %>
    <%- if !model.name().nil? -%><%== render :template => 'CodeableConcept', :locals => {name: 'name', model: model.name()} %><%- end -%>
    <%- if !model.valueQuantity().nil? -%><%== render :template => 'Quantity', :locals => {name: 'valueQuantity', model: model.valueQuantity()} %><%- end -%>
    <%- if !model.valueCodeableConcept().nil? -%><%== render :template => 'CodeableConcept', :locals => {name: 'valueCodeableConcept', model: model.valueCodeableConcept()} %><%- end -%>
    <%- if !model.valueAttachment().nil? -%><%== render :template => 'Attachment', :locals => {name: 'valueAttachment', model: model.valueAttachment()} %><%- end -%>
    <%- if !model.valueRatio().nil? -%><%== render :template => 'Ratio', :locals => {name: 'valueRatio', model: model.valueRatio()} %><%- end -%>
    <%- if !model.valuePeriod().nil? -%><%== render :template => 'Period', :locals => {name: 'valuePeriod', model: model.valuePeriod()} %><%- end -%>
    <%- if !model.valueSampledData().nil? -%><%== render :template => 'SampledData', :locals => {name: 'valueSampledData', model: model.valueSampledData()} %><%- end -%>
    <%- if !model.valueString().nil? -%><valueString value="<%= model.valueString() %>"/><%- end -%>
    <%- if !model.interpretation().nil? -%><%== render :template => 'CodeableConcept', :locals => {name: 'interpretation', model: model.interpretation()} %><%- end -%>
    <%- if !model.comments().nil? -%><comments value="<%= model.comments() %>"/><%- end -%>
    <%- if !model.appliesDateTime().nil? -%><appliesDateTime value="<%= model.appliesDateTime().iso8601 %>"/><%- end -%>
    <%- if !model.appliesPeriod().nil? -%><%== render :template => 'Period', :locals => {name: 'appliesPeriod', model: model.appliesPeriod()} %><%- end -%>
    <%- if !model.issued().nil? -%><issued value="<%= model.issued().utc.strftime('%Y-%m-%dT%H:%M:%SZ') %>"/><%- end -%>
    <%- if !model.status().nil? -%><status value="<%= model.status() %>"/><%- end -%>
    <%- if !model.reliability().nil? -%><reliability value="<%= model.reliability() %>"/><%- end -%>
    <%- if !model.bodySite().nil? -%><%== render :template => 'CodeableConcept', :locals => {name: 'bodySite', model: model.bodySite()} %><%- end -%>
    <%- if !model.method().nil? -%><%== render :template => 'CodeableConcept', :locals => {name: 'method', model: model.method()} %><%- end -%>
    <%- if !model.identifier().nil? -%><%== render :template => 'Identifier', :locals => {name: 'identifier', model: model.identifier()} %><%- end -%>
    <%- if !model.subject().nil? -%><%== render :template => 'resourcereference', :locals => {name: 'subject', model: model.subject()} %><%- end -%>
    <%- if !model.specimen().nil? -%><%== render :template => 'resourcereference', :locals => {name: 'specimen', model: model.specimen()} %><%- end -%>
    <%- if (!model.performer().nil? && !model.performer.empty?) -%><%- model.performer().each do |element| -%><%== render :template => 'resourcereference', :locals => {name: 'performer', model: element} %><%- end -%><%- end -%>
    <%- if (!model.referenceRange().nil? && !model.referenceRange.empty?) -%><%- model.referenceRange().each do |element| -%><%== render :template => 'Observation_observationreferencerangecomponent', :locals => {name: 'referenceRange', model: element} %><%- end -%><%- end -%>
    <%- if (!model.related().nil? && !model.related.empty?) -%><%- model.related().each do |element| -%><%== render :template => 'Observation_observationrelatedcomponent', :locals => {name: 'related', model: element} %><%- end -%><%- end -%>
</<%= (is_lowercase) ? local_name.downcase : local_name %>>
